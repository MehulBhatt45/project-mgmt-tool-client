<div style="background-image: linear-gradient(#8bc34ab0,#85cc32)">
	<div class="container-fluid">
		<h1 class="text-center font-weight-bold text-black">Notice Board</h1>
		<div class="row grid">
			<div class="col-lg-3 col-md-4 col-sm-6 grid-item" *ngFor="let notice of allNotice">
				<div class="card mb-3">
					<div *ngFor="let image of notice.images; let i =index" class="image_box {{i == 0?'active':''}}">
						<a [attr.data-lightbox]="notice._id" href="{{path}}{{image}}" >
							<img class="img-fluid" src="{{path}}{{image}}" onerror="this.src='../assets/man.png'">
							<a>
								<div class="mask rgba-white-slight"></div>
							</a>
						</a>
					</div>
					<div class="card-body">
						<div class="btn-group dropleft float-right">
							<button *ngIf="currentUser.userRole=='projectManager'" type="button" style="border-radius: 50%;top: -39px;" class="btn btn-default btn-floating btn_popover_menu " data-toggle="dropdown" aria-haspopup="false" aria-expanded="false"><i class="fas fa-ellipsis-v"></i> 
							</button>
							<div class="dropdown-menu">
								<input #noticeFile type="file" name="fileUpload" (change)="uploadFile($event,notice._id)" accept=".jpg, .png, .jpeg" hidden multiple>
								<a class="dropdown-item btn-floating mt-0 mx-1" title="Edit Notice" data-toggle="modal" data-target="#editmodel" (click)="newNotice = notice; noticeById(notice._id)"><i class="far fa-edit padding-top-1" ></i></a>
								<a class="dropdown-item btn-floating btn-tw mt-0 mx-1" (click)="noticeFile.click()"><i class="fas fa-images"></i></a>
								<a class="dropdown-item btn-floating btn-gplus mt-0 mx-1" title="Delete Notice" (click)="deleteNotice(notice._id)"><i class="far fa-trash-alt"></i></a>
							</div>
						</div>
						<h5>{{notice.title}}</h5>
						<a href="#" class="btn btn-default margin-0  btn-sm"  data-toggle="modal" data-target="#basicExampleModal" (click)="noticeById(notice._id)">Read More</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- <div class="container">
	<section class="my-5">
		<div class="row border border-radius-2 margin-bottom-30 padding-20 height-200" style="background-image: linear-gradient(#eee,#ddd)"  *ngFor="let notice of allNotice">
			<div class="col-lg-5">
				<div class="notice-image" *ngFor="let image of notice.images">
					<div class="profile_image_box ng-star-inserted" title="Profile Image" touranchor="change-profile" ng-reflect-tour-anchor="change-profile">
						<div  class="image_box_profile_image">
							<img onerror="this.src='../assets/man.png'" src="{{path}}{{image}}">
						</div>
					</div>
				</div>
				<div class="col-lg-7 padding-left-20 mt-3">
					<a href="#!" class="deep-purple-text">
						<h6 class="font-weight-bold mb-1"><i class="fas fa-clipboard pr-2"></i>Notice <p class="float-right">{{notice.expireon | date:'mediumDate'}}</p></h6>
					</a>
					<h3 class="font-weight-bold"><strong>{{notice.title}}</strong></h3>
					<p>{{notice.desc}}</p>
					<div *ngIf="currentUser.userRole=='projectManager'">
						<input #noticeFile type="file" name="fileUpload" (change)="uploadFile($event,notice._id)" accept=".jpg, .png, .jpeg" hidden>
						<a class="btn btn-danger border-radius-10" style="margin-right: 20px;" (click)="noticeFile.click()"><i class="fas fa-images"></i></a>
						<a class="btn btn-danger border-radius-10" style="margin-right: 20px;" (click)="deleteNotice(notice._id)"><i class="far fa-trash-alt"></i></a>
						<a class="btn btn-indigo border-radius-10" data-toggle="modal" data-target="#exampleModalPreview" (click)="newNotice = notice"><i class="fas fa-edit"></i></a>
					</div>
				</div>
			</div>
		</div>
	</section>
</div> -->
<!-- Modal edit Start Here -->
<div class="modal fade" id="editmodel" tabindex="-1" role="dialog" aria-labelledby="exampleModalPreviewLabel" aria-hidden="true">
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 _ngcontent-c4="" class="modal-title" id="exampleModalPreviewLabel" style="
				color: purple;
				"><i class="fas fa-edit"></i> Edit Notice</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body" *ngIf="newNotice">
				<div class="row">
					<form style="width: 100%;" [formGroup]="editNoticeForm">
						<div class="form-group col-12">
							<label for="title">Title</label>
							<input type="text" id="title" formControlName="title" class="form-control" [(ngModel)]="newNotice.title">
						</div>
						<div class="form-group col-12">
							<label for="desc">Discription</label>
							<input type ="text" id="desc" formControlName="desc" class="form-control md-textarea" [(ngModel)]="newNotice.desc">
						</div>
						<div class="form-group col-12">
							<div class="switch">
								<label>
									Publish False
									<input type="checkbox" formControlName="published" [(ngModel)]="newNotice.published">
									<span class="lever"></span>Publish True
								</label>
							</div>
						</div>
						<div class="form-group col-12">
							<input placeholder="Selected days" id="expireon" type="date" formControlName="expireon" [(ngModel)]="newNotice.expireon" class="form-control">
						</div>

						<div class=" row form-group col-12">
							<button class="btn btn-default" (click)="image.click()">
								<i class="fa fa-paperclip mr-1"></i> Add Files
								<input type="file" formControlName="image" name="image" #image id="image"  (change)="changeFile($event, 'item')" hidden multiple accept="image/png, image/jpeg, image/jpg">
							</button>
						</div>

						<div *ngIf="url && url.length">
							<div class="text-center selected-avatar" *ngFor="let u of url; let i=index;">
								<img class="avatar-image margin-auto" [src]="u" style="height: 150px; width: 150px;">
								<div class="delete-team-member">
									<a href="javascript:void(0);" (click)="removeAvatar(u, i)"><i class="fas fa-trash fa-2x"></i></a>
								</div>
							</div>
						</div>
						<div *ngIf="singlenotice">
							<div class="text-center notice_img" *ngFor="let image of singlenotice.images">
								<div class="avatar-image margin-auto">
									<img src="{{path}}{{image}}" alt="images" style="height: 150px; width: 150px;">
									<div class="delete_notice">
										<a href="javascript:void(0);" (click)="deleteNoticeImage(u, i)"><i class="fas fa-trash fa-2x"></i></a>
									</div>
								</div>
							</div>
						</div>
						
					</form>
				</div>
			</div>
			
			<div class="modal-footer">
				<button type="button" class="btn btn-default btn-lg" data-dismiss="modal">Close</button>
				<button type="submit" id="my_button" class="btn btn-default btn-lg" (click)="updateNotice(editNoticeForm.value, newNotice._id)">Save changes</button>
			</div>
		</div>
	</div>
</div>

<!-- modal start here -->
<div class="modal fade" id="basicExampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 style="color: purple;" class="modal-title" id="exampleModalLabel" *ngIf="singlenotice">{{singlenotice.title}}</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>	
			</div>
			<div class="modal-body">
				<div class="main-img" *ngIf="singlenotice">
					<div class="notice_img1" *ngFor="let image of singlenotice.images">
						<img src="{{path}}{{image}}" alt="images" style="height: 180px; width: 180px;">
					</div>
				</div>
				<div class="title">
					<div class="float-right">
						<div class="btn-group dropleft float-right">
							<!-- <button type="button" style="border-radius: 50%; top:10px;" class="btn btn-default btn-floating btn_popover_menu " data-toggle="dropdown" aria-haspopup="false" aria-expanded="false"><i class="fas fa-ellipsis-v"></i> 
							</button>
							<div class="dropdown-menu">
								<a href="javascript:void(0);" class="dropdown-item btn-floating  mt-0 mx-1" title="Edit Project"><i class="far fa-edit padding-top-1"></i></a>
								<a href="javascript:void(0);" class="dropdown-item btn-floating btn-tw mt-0 mx-1" title="Team Info" data-toggle="popover-hover" data-img="https://mdbootstrap.com/img/logo/mdb192x192.jpg"><i class="fas fa-users"></i></a>
								<a class="dropdown-item btn-floating btn-gplus mt-0 mx-1" title="Project Summary" href="javascript:void(0);"><i class="fa fa-bar-chart" aria-hidden="true"></i></a>
							</div> -->
						</div>
					</div>
				</div>
				<i class="fa fa-calendar" aria-hidden="true"></i>
				<span *ngIf="singlenotice">{{singlenotice.expireon | date:'mediumDate'}}</span>
				<div class="desc pt-1">
					<p *ngIf="singlenotice" style="text-align: justify; margin-bottom: 0px;">{{singlenotice.desc}}</p>
				</div>
			</div>
			<div class="modal-footer">
				<div class="btn-group dropleft float-right">
				</div>
			</div>
		</div>
	</div>
</div>
<!-- modal end here -->


<!-- 	<div class="form-group col-12">
							<label for="desc">Images</label>
							<input type ="file" id="image" formControlName="image" class="form-control md-textarea" [(ngModel)]="newNotice.image">
						</div> -->
						<!-- <div class="form-group col-12">
							<div class=" row form-group col-6">
								<button class="btn btn-default" (click)="fileUpload.click()">
									<i class="fa fa-paperclip mr-1"></i> Add Images
									<input type="file" formControlName="image" name="fileUpload" #fileUpload id="fileUpload"  (change)="changeFile($event,'item')" hidden multiple accept="image/png, image/jpeg, image/jpg">
								</button>
							</div>
							<div class="file-path-wrapper">
								<input class="file-path validate" [ngModelOptions]="{standalone: true}" type="file" placeholder="Upload Your image" [(ngModel)]="newNotice.image.split('/').reverse()[0]" readonly>
							</div>
						</div> -->
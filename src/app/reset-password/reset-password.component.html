<div class="loader" [hidden]="!loader">
	<span></span>
	<span></span>
	<span></span>
	<span></span>
</div>
<div class="container" [hidden]="loader">
	<div class="row justify-content-center">
		<div class="col-md-8">
			<div class="card card-cascade narrower">
				
				<div class="view view-cascade" style="background-color: #372e5f">

					<h2 class="card-header-title white-text  text-center py-3" align="center">Change Password</h2>

				</div>
				
				<div class="card-body  card-body-cascade text-center px-lg-5" style="padding-top: 35px;">
					<div class="container">
						<form [formGroup]="resetPasswordForm">


							<div class="md-form">
								<i class="fas fa-envelope prefix"></i>
								<input type="email"  id="form2" autocomplete= 'false | random-string' formControlName="email"  class="form-control validate">
								<label for="inputValidationEx" data-error="wrong">Type your email</label>
							</div>

							<div class="md-form">
								<i class="fas fa-unlock prefix"></i>
								<input type="password"  id="form2" autocomplete="new-password"  formControlName="currentPassword" id="currentpassword"  class="form-control validate">
								<label for="currentpassword" data-error="wrong">Current password</label>
							</div>

							<div class="md-form">
								<i class="fas fa-lock prefix"></i>
								<input type="password"  formControlName="newPassword" id="newpassword"  class="form-control validate" [ngClass]="{ 'is-invalid': submitted && f.newPassword.errors }" />
								<label for="newpassword" data-error="wrong">New Password</label>
								<div *ngIf="submitted && f.newPassword.errors" class="invalid-feedback">
									<div *ngIf="f.newPassword.errors.required">Password is required</div>
									<div *ngIf="f.newPassword.errors.pattern">Please enter valid password</div>
								</div>
							</div>

							<div class="md-form">
								<i class="fas fa-check-circle prefix"></i>
								<input type="password" formControlName="confirmPassword"  id="confirmpassword"  class="form-control validate" (input)="comparePassword(resetPasswordForm)" [ngClass]="{ 'is-invalid': submitted && f.confirmPassword.errors }" /> 
								<label for="confirmpassword" data-error="wrong">Confirm Password</label>
								<div *ngIf="submitted && f.confirmPassword.errors" class="invalid-feedback">
									<div *ngIf="f.confirmPassword.errors.required">Password is required</div>
									<div *ngIf="f.confirmPassword.errors.pattern">Please enter valid password</div>
								</div>
							</div>

							<div class="form-group">
								<button class="btn btn-default" (click)="resetPassword()" [disabled]="!match">Update Password</button>
								<a [routerLink]="['/login']" class="btn btn-link">Cancel</a>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="loader" [hidden]="!loader">
	<span></span>
	<span></span>
	<span></span>
	<span></span>
</div>
<h3 class="card-header-title" style="line-height: 2;"><span class="icon-pencil"></span> Edit Project <button class="btn btn-default deletebtn float-right" (click)="deleteProject(availData)"><span class="icon-trash"></span></button></h3>
<div class="card">
	<div class="card-body">
		<div class="md-form form-group" *ngIf="availData">
			<img src="{{baseMediaUrl}}{{availData.avatar}}" onerror="this.src='assets/4.jpeg'" height="100" width="100">
		</div>
		<div class="row">
			<div class="col-md-4">
				<div class="md-form form-group" *ngIf="availData">
					<input mdbInput type="text" id="projecttitle" class="form-control" formControlName="title" [(ngModel)]="availData.title" >
					<label for="projecttitle" class="active">Project Title</label>
				</div>
			</div>
			<div class="col-md-4">
				<div class="md-form form-group"  *ngIf="availData" [hidden]="!availData && !availData.deadline">
					<label for="date-picker-example">Deadline</label>
					<input type="text" id="date-picker" formControlName="deadline"  class="form-control datepicker" ngModel="{{availData.deadline | date:'mediumDate' }}" >
				</div>
			</div>
		</div>
		<div class="md-form form-group" *ngIf="availData">
			<input mdbInput type="text" id="desc" class="form-control" formControlName="desc" [(ngModel)]="availData.desc" >
			<label for="desc" class="active" >Project Discription</label>
		</div>
		<h4 style="color: #181123;">Client Details</h4>
		<div class="row">
			<div class="col-md-4">
				<div class="md-form form-group" *ngIf="availData">
					<input mdbInput type="text" id="clientfullname" class="form-control" formControlName="clientFullName" [(ngModel)]="availData.clientFullName">
					<label for="clientfullname" class="active">Name</label>
				</div>
			</div>
			<div class="col-md-4">
				<div class="md-form form-group" *ngIf="availData">
					<input mdbInput type="email" id="clientemail" class="form-control" formControlName="clientEmail" [(ngModel)]="availData.clientEmail">
					<label for="clientemail" class="active">Email</label>
				</div>
			</div>
			<div class="col-md-4">
				<div class="md-form form-group" *ngIf="availData">
					<label for="clientcontactno" class="active">Contact No.</label>
					<input mdbInput type="tel" id="clientcontactno" formControlName="clientContactNo" [(ngModel)]="availData.clientContactNo" class="form-control">
				</div>  
			</div>
			<div class="col-md-4">
				<div class="md-form form-group" *ngIf="availData">
					<input mdbInput type="text" id="clientdesignation" class="form-control" formControlName="clientDesignation" [(ngModel)]="availData.clientDesignation">
					<label for="clientdesignation" class="active">Designation</label>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="card mt-1 p-1">
	<h4 style="color: #181123; margin-top: 10px; margin-left: 20px;">Project Team</h4>
	<div class="card-body">
		<div class="container">
			<div class="form-group">
				<ng-select placeholder="Select Developers" [items]="dteam" [multiple]="true" bindLabel="name" bindValue="_id" [closeOnSelect]="false" formControlName="Teams" (add)="addDeveloper($event)" (remove)="removeDeveloper($event.value)" (clear)="clearSelection($event)" >
					<ng-template ng-label-tmp let-item="item" let-clear="clear" >
						<span class="ng-value-label"><img [src]="item.profilePhoto" onerror="this.src='assets/icons/avatar.png'" width="20px" height="20px"> {{item.name}}</span>
						<span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
					</ng-template>
					<div class="row">
						<ng-template ng-option-tmp let-item="item">
							<div class="row" >
								<div class="col-md-3">
									<div class="avatar img_section">
										<img src="{{basMediaUrl}}{{item.profilePhoto}}" onerror="this.src='assets/icons/avatar.png'">
									</div>
								</div>
								<div class="col-md-9">
									<span style="line-height: 2;">{{item.name}}</span>
									<p style="font-size: 14px;">{{item.userRole}}</p>
								</div>
							</div>
						</ng-template>
					</div>
				</ng-select>
			</div>
		</div>
		<div class="container">
			<div class="row">
				<div class="col-md-4" *ngFor="let item of projectTeam">
					<div class="border mb-1">
						<div class="row padding-5">
							<div class="col-md-3">
								<div class="img_section">
									<img src="{{basMediaUrl}}{{item.profilePhoto}}" onerror="this.src='assets/icons/bug.png'">
								</div>
							</div>
							<div class="col-md-7">
								<span style="line-height: 2;">{{item.name}}</span>
								<p style="font-size: 14px;">{{item.userRole}}</p>
							</div>
							<div class="col-md-2">
								<a href="javascript:void(0);" (click)="removeDeveloper(item)" class="icon_for_action" ><span class="icon-trash"></span></a>
							</div>
						</div>
					</div>
				</div>
			</div>	
		</div>
	</div>
</div>
<div class="card mt-1 p-1">
	<h4 style="color: #181123; margin-top: 10px; margin-left: 20px;">Project Manager</h4>
	<div class="card-body">
		<div class="container">
			<div class="form-group">
				<ng-select placeholder="Select ProjectManager" [items]="availableProjectMngr" [multiple]="true" bindLabel="name" bindValue="_id" [closeOnSelect]="false" formControlName="Teams" (add)="addProjectManager($event)" (remove)="removeProjectManager($event.value)" (clear)="clearSelection($event)">
					<ng-template ng-label-tmp let-item="item" let-clear="clear">
						<span class="ng-value-label"><img [src]="item.profilePhoto" onerror="this.src='assets/icons/avatar.png'" width="20px" height="20px"> {{item.name}}</span>
						<span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
					</ng-template>
					<div class="row">
						<ng-template ng-option-tmp let-item="item">
							<div class="row">
								<div class="col-md-3">
									<div class="col-md-3">
										<div class="avatar img_section">
											<img src="{{basMediaUrl}}{{item.profilePhoto}}" onerror="this.src='assets/icons/avatar.png'" class="rounded-circle img-fluid">
										</div>
									</div>
									<div class="col-md-9">
										<span style="line-height: 2;">{{item.name}}</span>
										<p style="font-size: 14px;">{{item.userRole}}</p>
									</div>
								</div>
							</div>
						</ng-template>
					</div>
				</ng-select>
			</div>
					<!-- <div class="row">
						<div class="col-12 col-md-3 mb-2" *ngFor="let item of projectMngrTeam">
							<div class="card" style="padding: 10px 0; text-align: center;">
								<div class="card-up deep-purple lighten-2"></div>
								<div class="avatar white img_section">
									<img src="{{baseUrl}}{{item.profilePhoto}}" onerror="this.src='assets/icons/avatar.png'" class="rounded-circle img-fluid">
								</div>
								<div class="card-body">
									<h5 class="card-title mt-1">{{item.name}}</h5>
									<h6 class="card-title">{{item.userRole}}</h6>
								</div>
								<div class="delete-team-member">
									<a href="javascript:void(0);" (click)="removeProjectManager(item)"><i class="fas fa-trash fa-3x"></i></a>
								</div>
							</div>
						</ng-template>
					</div>
				</ng-select>
			</div> -->

		</div>
		<div class="container">
			<div class="row">
				<div class="col-md-4" *ngFor="let item of projectMngrTeam">
					<div class="border mb-1">
						<div class="row padding-5">
							<div class="col-md-3">
								<div class="img_section">
									<img src="{{basMediaUrl}}{{item.profilePhoto}}" onerror="this.src='assets/icons/bug.png'">
								</div>
							</div>
							<div class="col-md-7">
								<span style="line-height: 2;">{{item.name}}</span>
								<p style="font-size: 14px;">{{item.userRole}}</p>
							</div>
							<div class="col-md-2">
								<a href="javascript:void(0);" (click)="removeDeveloper(item)" class="icon_for_action" ><span class="icon-trash"></span></a>
							</div>
						</div>
					</div>
				</div>
			</div>	
		</div>
	</div>
</div>

<!-- <button type="submit" class="btn btn-default btn-rounded z-depth-1 mt-1" (click)="updateProject(updateForm.value)" [disabled]="updateForm.invalid">Update Project</button>
</form> -->

<button type="submit" class="btn btn-default mt-1 float-left" (click)="updateProject(updateForm.value)" [disabled]="updateForm.invalid">Update Project</button>